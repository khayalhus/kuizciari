{% extends "layout.html" %}
{% block title %}Add Class{% endblock %}
{% block link %}
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
{% endblock %}
{% block top %}
<div class="hero-body">
  <div class="container">
    <h1 class="title has-text-centered">Add class</h1>

    {% for category, message in get_flashed_messages(with_categories=True) %}
    <div class="notification is-{{category}}" style="width: 80%; margin: 0 auto;">
      <button class="delete"></button>
      {{ message }}
    </div>
    {% endfor %}
    
    <form action="" method="post" name="add_class" style="width: 80%; margin: 0 auto;" class="box has-background-warning">
      
      <div class="field">
        <label for="crn" class="label">CRN</label>
        <div class="control">
            <input type="number" name="crn" class="input" min="10000" max="99999" placeholder="Class Reference Number (5 digits)" required/>
        </div>
      </div>

      <div class="field">
        <label for="semester" class="label">Semester</label>
        <div class="control">
            <input type="number" name="semester" class="input" min="202110" placeholder="Semester number (6 digits)" required/>
        </div>
      </div>

      <div class="field">
        <label for="courseCode" class="label">Course Code</label>
        <div class="control">
          <select class="form-control" id="course" name="courseCode" style="width: 100%" required>
            {% for courseCode, courseTitle in courses %}
            <option>{{ courseCode }}</option>
            {% endfor %}
          </select>
        </div>
      </div>

      <!--
      <div class="field">
        <label for="courseTitle" class="label">Course Title</label>
        <div class="control">
            <input type="text" class="input" name="courseTitle" minlength="1" maxlength="255" placeholder="Title of the course (max 255 characters) (ex. Database Systems)" readonly/>
        </div>
      </div>
      -->

      <div class="field">
        <label for="instructorName" class="label">Instructor(s)</label>
        <div class="control">
          <select class="form-control" multiple="multiple" id="instructor" name="instructors[]" style="width: 100%" placeholder="test" required>
            {% for instructorID, instructorName in instructors %}
            <option value="{{ instructorID }}">{{ instructorName }} ({{ instructorID }}) </option>
            {% endfor %}
          </select>
        </div>
      </div>

      <div class="field">
        <label for="date" class="label">Date</label>
        <div class="control">
          <select class="form-control" id="date" name="date" style="width: 100%" required>
            <option value="Monday">Monday</option>
            <option value="Tuesday">Tuesday</option>
            <option value="Wednesday">Wednesday</option>
            <option value="Thursday">Thursday</option>
            <option value="Friday">Friday</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label for="time" class="label">Time</label>
        <div class="control">
            <input type="time" name="time" min="08:30" max="17:30" step="1800" class="input" placeholder="Class start time" required/>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <button class="button is-primary has-background-white has-text-warning-dark">Save</button>
        </div>
      </div>
    </form>

    <script>
    $("#course").select2();
    $("#date").select2();
    $("#instructor").select2({
      placeholder: "Full name of instructor(s)"
    });
    </script>
  </div>
</div>
{% endblock %}